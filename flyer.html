<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flyer Designer Pro | 11 Aniversario</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            --bg-green: #1F9C44;
            --deep-blue: #003262;
            --teal: #015B69;
            --dark-green: #006C4A;
            --grad-yellow: #F9EC32;
            --grad-orange: #F7941D;
            --white: #ffffff;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: white;
            overflow-x: hidden;
        }

        /* --- CONTROLES --- */
        .admin-panel {
            position: fixed;
            left: 20px;
            top: 20px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .admin-panel button {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            background: var(--bg-green);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .admin-panel button:hover { background: var(--dark-green); }

        /* --- CANVAS DEL FLYER --- */
        #flyer-canvas {
            width: 1080px;  /* Formato Social Media (Portrait) */
            height: 1350px;
            background-color: var(--bg-green);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
        }

        /* 1. TEXTURAS Y LUCES */
        .vignette {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.6) 100%);
            z-index: 1;
        }

        /* El Aura Central (Inspirado en la imagen de referencia) */
        .aura-circle {
            position: absolute;
            top: 20%;
            width: 800px;
            height: 800px;
            background: linear-gradient(135deg, var(--grad-yellow), var(--grad-orange));
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.7;
            z-index: 2;
        }

        /* 2. HEADER */
        .header {
            position: absolute;
            top: 60px;
            z-index: 10;
            text-align: center;
            width: 100%;
        }
        .logo-lema {
            height: 120px;
            object-fit: contain;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
        }
        .conferencia-text {
            display: block;
            letter-spacing: 15px;
            font-weight: 400;
            font-size: 1.4rem;
            margin-top: 20px;
            text-transform: uppercase;
        }

        /* 3. CONTENEDOR DE PERSONAJES (COMPOSICIÓN DINÁMICA) */
        .pastors-container {
            position: absolute;
            bottom: 300px;
            width: 100%;
            height: 800px;
            z-index: 5;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        .pastor-img {
            position: absolute;
            height: 850px;
            object-fit: contain;
            /* Funde la parte inferior de la imagen */
            -webkit-mask-image: linear-gradient(to top, transparent 5%, black 40%);
            mask-image: linear-gradient(to top, transparent 5%, black 40%);
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.4));
        }

        /* Posicionamiento de las 4 copias para simular los 4 invitados */
        .p1 { z-index: 4; height: 950px; transform: translateX(0); } /* Principal */
        .p2 { z-index: 3; height: 800px; transform: translateX(-280px); filter: brightness(0.8) grayscale(0.3); }
        .p3 { z-index: 3; height: 800px; transform: translateX(280px); filter: brightness(0.8) grayscale(0.3); }
        .p4 { z-index: 2; height: 700px; transform: translateY(-100px) translateX(0); filter: brightness(0.6) blur(2px); }

        /* 4. TÍTULO CAMPAÑA (ESTILO AVIVA-NOS) */
        .main-title {
            position: absolute;
            bottom: 220px;
            z-index: 20;
            text-align: center;
            width: 100%;
        }
        .main-title h1 {
            font-size: 140px;
            font-weight: 900;
            margin: 0;
            line-height: 0.8;
            text-transform: uppercase;
            letter-spacing: -5px;
            background: linear-gradient(to bottom, #fff 50%, #ccc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
        }
        .subtitle {
            font-size: 1.8rem;
            letter-spacing: 5px;
            font-weight: 700;
            color: var(--grad-yellow);
            text-transform: uppercase;
            margin-top: 10px;
        }

        /* 5. FOOTER INFO */
        .footer-info {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 250px;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 100%);
            z-index: 30;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .details {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            gap: 30px;
            margin-bottom: 25px;
            text-transform: uppercase;
        }
        .details span { color: var(--grad-yellow); }

        .names-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            width: 90%;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 20px;
        }
        .name-item b { display: block; font-size: 1.1rem; text-transform: uppercase; }
        .name-item span { font-size: 0.8rem; opacity: 0.8; color: var(--grad-yellow); }

        .location {
            margin-top: 20px;
            font-size: 0.9rem;
            opacity: 0.6;
            letter-spacing: 2px;
        }
    </style>
</head>
<body>

    <div class="admin-panel">
        <h3 style="color:#333; margin:0 0 10px 0">Flyer Maker</h3>
        <button onclick="downloadFlyer()"><i class="fas fa-download"></i> Descargar Flyer HD</button>
        <p style="color:#666; font-size: 10px; width: 150px;">Asegúrate de tener <b>pastor_pulpito.png</b> y <b>logo2.png</b> en la carpeta.</p>
    </div>

    <div id="flyer-canvas">
        <div class="vignette"></div>
        <div class="aura-circle"></div>

        <div class="header">
            <img src="logo2.png" class="logo-lema" alt="Logo Lema">
            <span class="conferencia-text">C O N F E R E N C I A</span>
        </div>

        <div class="pastors-container">
            <!-- Simulación de 4 invitados usando la misma imagen -->
            <img src="pastor_pulpito.png" class="pastor-img p4" alt="Ps. Fernando">
            <img src="pastor_pulpito.png" class="pastor-img p2" alt="Abel Zapata">
            <img src="pastor_pulpito.png" class="pastor-img p3" alt="Ruben Diaz">
            <img src="pastor_pulpito.png" class="pastor-img p1" alt="Ps. Eugenio Masias">
        </div>

        <div class="main-title">
            <h1>Ven a Cristo</h1>
            <div class="subtitle">Tal como estás</div>
        </div>

        <div class="footer-info">
            <div class="details">
                22 — 25 ENERO <span>•</span> 7:00 PM <span>•</span> 11 ANIVERSARIO
            </div>
            
            <div class="names-grid">
                <div class="name-item">
                    <b>Eugenio Masias</b>
                    <span>Predicador (Ecuador)</span>
                </div>
                <div class="name-item">
                    <b>Abel Zapata</b>
                    <span>Min. Alabanza (Chile)</span>
                </div>
                <div class="name-item">
                    <b>Ruben Diaz</b>
                    <span>Alabanza (C. Pasco)</span>
                </div>
                <div class="name-item">
                    <b>Fernando Ñaupari</b>
                    <span>Testimonio</span>
                </div>
            </div>

            <div class="location">URB. CIUDAD DEL CHOFER - CHICLAYO</div>
        </div>
    </div>

    <script>
        async function downloadFlyer() {
            const btn = document.querySelector('.admin-panel button');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando HD...';
            
            const canvas = await html2canvas(document.getElementById('flyer-canvas'), {
                scale: 2, // Para que sea calidad 4K o similar
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#1F9C44'
            });

            const link = document.createElement('a');
            link.download = 'Flyer_11Aniversario_Final.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
            
            btn.innerHTML = '<i class="fas fa-download"></i> Descargar Flyer HD';
        }
    </script>
</body>
</html>
