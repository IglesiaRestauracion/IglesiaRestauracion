<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tercer Culto Unido | Fin de Año</title>

    <!-- Fuentes Modernas -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800;900&family=Playfair+Display:ital@1&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <style>
      :root {
        --bg-dark: #020b14;
        --neon-cyan: #00e5ff;
        --neon-purple: #bd00ff;
        --neon-gold: #ffd700;
        --text-white: #ffffff;
        --glass-bg: rgba(255, 255, 255, 0.05);
        --glass-border: rgba(255, 255, 255, 0.1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-color: var(--bg-dark);
        background-image: radial-gradient(
            circle at 50% 10%,
            #05263b 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 90% 90%,
            rgba(0, 229, 255, 0.05) 0%,
            transparent 40%
          );
        color: var(--text-white);
        font-family: "Montserrat", sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
        padding-top: 80px;
      }

      /* --- NAVBAR --- */
      .neon-nav {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(2, 11, 20, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--glass-border);
        z-index: 1000;
        padding: 15px 5%;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .nav-logo {
        font-weight: 800;
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 1.1rem;
      }
      .nav-logo span {
        color: var(--neon-cyan);
      }
      .nav-links {
        display: flex;
        gap: 30px;
        list-style: none;
      }
      .nav-links a {
        color: #ccc;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.9rem;
        text-transform: uppercase;
        transition: 0.3s;
      }
      .nav-links a:hover {
        color: var(--neon-cyan);
        text-shadow: 0 0 10px var(--neon-cyan);
      }
      .nav-btn-highlight {
        border: 1px solid var(--neon-cyan);
        padding: 5px 15px;
        border-radius: 20px;
        color: var(--neon-cyan) !important;
      }
      .nav-btn-highlight:hover {
        background: var(--neon-cyan);
        color: #000 !important;
      }
      .mobile-menu-icon {
        display: none;
        font-size: 1.5rem;
        color: #fff;
        cursor: pointer;
      }

      /* --- LAYOUT --- */
      .grid-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(
            rgba(255, 255, 255, 0.02) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        background-size: 40px 40px;
        z-index: 0;
        pointer-events: none;
      }
      .main-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 10;
        display: flex;
        flex-direction: column;
        gap: 40px;
      }

      /* --- HEADER --- */
      header {
        text-align: center;
        animation: fadeIn 1s ease-out;
      }
      .top-badge {
        border: 1px solid var(--neon-cyan);
        color: var(--neon-cyan);
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        text-transform: uppercase;
        background: rgba(0, 229, 255, 0.1);
        display: inline-block;
        margin-bottom: 1rem;
      }
      h1 {
        font-size: clamp(2.5rem, 6vw, 5rem);
        font-weight: 900;
        line-height: 1;
        text-transform: uppercase;
        margin-bottom: 0.5rem;
        background: linear-gradient(180deg, #ffffff 20%, #90caf9 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      h1 span {
        color: transparent;
        -webkit-text-stroke: 1px var(--neon-cyan);
        font-style: italic;
      }

      /* --- STAGE SWITCHER --- */
      .stage-switcher {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 10px;
        position: relative;
        z-index: 20;
      }
      .stage-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--glass-border);
        color: #aaa;
        padding: 10px 25px;
        border-radius: 30px;
        cursor: pointer;
        font-family: "Montserrat";
        font-weight: 700;
        text-transform: uppercase;
        font-size: 0.8rem;
        transition: 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .stage-btn:hover {
        background: rgba(255, 255, 255, 0.1);
      }
      .stage-btn.active-word {
        background: rgba(0, 229, 255, 0.1);
        border-color: var(--neon-cyan);
        color: var(--neon-cyan);
        box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);
      }
      .stage-btn.active-worship {
        background: rgba(255, 215, 0, 0.1);
        border-color: var(--neon-gold);
        color: var(--neon-gold);
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
      }

      /* --- HERO INTERACTIVO --- */
      .hero-showcase {
        position: relative;
        width: 100%;
        height: clamp(400px, 60vh, 600px);
        display: flex;
        justify-content: center;
        align-items: flex-end;
        margin-top: 10px;
      }

      /* Contenedor Glow */
      .glow-bg {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 350px;
        height: 350px;
        border-radius: 50%;
        z-index: 0;
        transition: 0.6s ease;
      }
      .glow-cyan {
        background: radial-gradient(
          circle,
          rgba(0, 229, 255, 0.25) 0%,
          transparent 70%
        );
      }
      .glow-gold {
        background: radial-gradient(
          circle,
          rgba(255, 215, 0, 0.25) 0%,
          transparent 70%
        );
      }

      .image-wrapper {
        position: relative;
        width: 100%;
        height: 100%;
        max-width: 900px; /* Aumentado para el trío */
        display: flex;
        justify-content: center;
        align-items: flex-end;
        z-index: 2;
        cursor: pointer;
      }

      /* ESCENAS */
      .stage-scene {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.5s ease, transform 0.5s ease;
        transform: scale(0.95);
      }
      .stage-scene.active {
        opacity: 1;
        visibility: visible;
        transform: scale(1);
      }

      /* Imágenes del Pastor */
      .pastor-img {
        position: absolute;
        bottom: 0;
        height: 100%;
        width: auto;
        max-width: 100%;
        object-fit: contain;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.6));
        transition: opacity 0.4s ease;
      }
      .img-state-1 {
        opacity: 1;
      }
      .img-state-2 {
        opacity: 0;
        transform: scale(1.05);
        transition: 0.4s ease;
      }
      .scene-pastor:hover .img-state-1 {
        opacity: 0;
      }
      .scene-pastor:hover .img-state-2 {
        opacity: 1;
      }

      /* --- IMAGEN TRIO (MODIFICADA PARA SER MAS GRANDE) --- */
      .trio-img {
        position: absolute;
        bottom: 0;
        height: 100%; /* Aumentado al 100% */
        width: auto;
        max-width: 120%; /* Permitir que sea un poco más ancho */
        object-fit: contain;
        filter: drop-shadow(
          0 10px 30px rgba(0, 0, 0, 0.8)
        ); /* Sombra más fuerte */
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }
      .scene-trio:hover .trio-img {
        transform: scale(1.05) translateY(-5px);
      }

      .touch-hint {
        position: absolute;
        top: 15%;
        right: 10%;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 8px 15px;
        border-radius: 30px;
        font-size: 0.8rem;
        backdrop-filter: blur(5px);
        z-index: 10;
        animation: floatHint 3s infinite;
        pointer-events: none;
      }

      .name-label {
        position: absolute;
        bottom: 20px;
        background: rgba(2, 11, 20, 0.85);
        border: 1px solid var(--glass-border);
        padding: 10px 30px;
        border-radius: 4px;
        text-align: center;
        z-index: 10;
        backdrop-filter: blur(4px);
        transform: skewX(-10deg);
        transition: 0.3s;
      }
      .name-label.cyan {
        border-color: var(--neon-cyan);
      }
      .name-label.gold {
        border-color: var(--neon-gold);
      }
      .name-label h3 {
        margin: 0;
        font-size: 1.2rem;
        font-weight: 800;
        text-transform: uppercase;
        transform: skewX(10deg);
        color: #fff;
      }
      .name-label span {
        font-size: 0.75rem;
        letter-spacing: 2px;
        transform: skewX(10deg);
        display: block;
      }
      .name-label.cyan span {
        color: var(--neon-cyan);
      }
      .name-label.gold span {
        color: var(--neon-gold);
      }

      /* --- INFO CARDS --- */
      .cards-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
      }
      .glass-card {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.03) 0%,
          rgba(255, 255, 255, 0.01) 100%
        );
        border: 1px solid var(--glass-border);
        padding: 30px 20px;
        border-radius: 16px;
        text-align: center;
        transition: 0.3s ease;
      }
      .glass-card:hover {
        transform: translateY(-5px);
        border-color: var(--neon-cyan);
        box-shadow: 0 5px 20px rgba(0, 229, 255, 0.1);
      }
      .card-icon {
        font-size: 2rem;
        color: var(--neon-cyan);
        margin-bottom: 15px;
      }
      .card-info {
        font-size: 1.3rem;
        font-weight: 700;
        color: #fff;
      }
      .card-highlight {
        font-size: 2.5rem;
        font-weight: 900;
        background: linear-gradient(45deg, #fff, var(--neon-cyan));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      /* --- ARCADE --- */
      .arcade-section {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 20px;
        overflow: hidden;
      }
      .arcade-header {
        text-align: center;
        margin-bottom: 20px;
      }
      .arcade-title {
        font-size: 1.5rem;
        font-weight: 800;
        color: #fff;
        text-transform: uppercase;
      }
      .tabs-nav {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }
      .tab-btn {
        background: transparent;
        border: 1px solid var(--glass-border);
        color: #aaa;
        padding: 10px 20px;
        border-radius: 30px;
        cursor: pointer;
        transition: 0.3s;
        font-family: "Montserrat";
        font-weight: 600;
        font-size: 0.9rem;
      }
      .tab-btn:hover {
        background: rgba(255, 255, 255, 0.05);
      }
      .tab-btn.active {
        background: var(--neon-cyan);
        color: #000;
        border-color: var(--neon-cyan);
        box-shadow: 0 0 15px rgba(0, 229, 255, 0.4);
      }
      .game-container {
        display: none;
        animation: fadeIn 0.5s;
      }
      .game-container.active {
        display: block;
      }
      /* Trivia */
      .question-box {
        font-size: 1.2rem;
        margin-bottom: 20px;
        text-align: center;
      }
      .options-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        max-width: 600px;
        margin: 0 auto;
      }
      .option-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #fff;
        padding: 15px;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.2s;
        font-family: "Montserrat";
        font-weight: 600;
      }
      .option-btn:hover {
        border-color: var(--neon-cyan);
        background: rgba(0, 229, 255, 0.1);
      }
      .btn-correct {
        background: rgba(0, 255, 157, 0.3) !important;
        border-color: #00ff9d !important;
      }
      .btn-wrong {
        background: rgba(255, 51, 102, 0.3) !important;
        border-color: #ff3366 !important;
      }
      /* Scramble */
      .scramble-area {
        text-align: center;
        max-width: 700px;
        margin: 0 auto;
      }
      .word-bank {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
        min-height: 60px;
      }
      .word-slot {
        background: rgba(255, 255, 255, 0.1);
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        border: 1px dashed #555;
        user-select: none;
      }
      .drop-zone {
        background: rgba(0, 0, 0, 0.3);
        border: 2px dashed var(--neon-purple);
        padding: 20px;
        min-height: 80px;
        border-radius: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        margin-bottom: 20px;
      }
      /* Promises */
      .promises-grid {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
        margin-top: 20px;
      }
      .flip-card {
        background-color: transparent;
        width: 200px;
        height: 280px;
        perspective: 1000px;
        cursor: pointer;
      }
      .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }
      .flip-card.flipped .flip-card-inner {
        transform: rotateY(180deg);
      }
      .flip-card-front,
      .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--glass-border);
      }
      .flip-card-front {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.1),
          rgba(0, 0, 0, 0.8)
        );
        box-shadow: 0 0 10px rgba(0, 229, 255, 0.1);
      }
      .flip-card-front i {
        font-size: 3rem;
        color: var(--neon-cyan);
        margin-bottom: 10px;
      }
      .flip-card-back {
        background: linear-gradient(135deg, #000, #1a0033);
        color: white;
        transform: rotateY(180deg);
        padding: 15px;
        border-color: var(--neon-purple);
        box-shadow: 0 0 20px rgba(189, 0, 255, 0.3);
      }
      .promise-text {
        font-size: 0.9rem;
        font-style: italic;
        color: #fff;
        margin-bottom: 10px;
      }
      .promise-ref {
        font-size: 0.8rem;
        font-weight: bold;
        color: var(--neon-gold);
        text-transform: uppercase;
      }

      /* CTA */
      .cta-section {
        text-align: center;
        border-top: 1px solid var(--glass-border);
        padding-top: 2rem;
      }
      .btn-neon {
        background: var(--neon-cyan);
        color: #000;
        font-weight: 800;
        text-transform: uppercase;
        padding: 16px 40px;
        border-radius: 4px;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s ease;
        box-shadow: 0 0 15px rgba(0, 229, 255, 0.3);
        letter-spacing: 1px;
      }
      .btn-neon:hover {
        background: #fff;
        box-shadow: 0 0 40px rgba(0, 229, 255, 0.6);
        transform: scale(1.05);
      }

      @keyframes floatHint {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .nav-links {
          display: none;
          position: absolute;
          top: 70px;
          left: 0;
          width: 100%;
          background: rgba(0, 0, 0, 0.95);
          flex-direction: column;
          padding: 20px;
          text-align: center;
        }
        .nav-links.active {
          display: flex;
        }
        .mobile-menu-icon {
          display: block;
        }
        .options-grid {
          grid-template-columns: 1fr;
        }
        h1 {
          font-size: 3rem;
        }
        .hero-showcase {
          height: 400px;
        }
        .trio-img {
          max-width: 100%;
          height: auto;
          bottom: 0;
        } /* Ajuste móvil para el trío */
      }
    </style>
  </head>
  <body>
    <div class="grid-overlay"></div>

    <nav class="neon-nav">
      <div class="nav-logo">Centro de <span>Restauración</span></div>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="index.html#mensaje">Mensaje</a></li>
        <li><a href="index.html#iglesia">Iglesia</a></li>
        <li>
          <a href="afiche.html" class="nav-btn-highlight">Evento 26 Dic</a>
        </li>
      </ul>
      <div class="mobile-menu-icon" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
      </div>
    </nav>

    <div class="main-container">
      <header>
        <div class="top-badge">III Confraternidad Anual</div>
        <h1>TERCER CULTO <br /><span>UNIDO</span></h1>

        <div class="stage-switcher">
          <button
            class="stage-btn active-word"
            onclick="switchStage('word')"
            id="btn-word"
          >
            <i class="fas fa-bible"></i> La Palabra
          </button>
          <button
            class="stage-btn"
            onclick="switchStage('worship')"
            id="btn-worship"
          >
            <i class="fas fa-guitar"></i> La Adoración
          </button>
        </div>
      </header>

      <section class="hero-showcase">
        <div class="image-wrapper" title="Interactúa con la imagen">
          <div class="touch-hint">
            <i class="fas fa-hand-pointer"></i> Interactúa
          </div>

          <!-- ESCENA 1: PASTOR -->
          <div class="stage-scene scene-pastor active" id="scene-pastor">
            <img
              src="pastor_rostro.png"
              class="pastor-img img-state-1"
              alt="Pastor Rostro"
            />
            <img
              src="pastor_pulpito.png"
              class="pastor-img img-state-2"
              alt="Pastor Predicando"
            />
          </div>

          <!-- ESCENA 2: TRIO (GRANDE) -->
          <div class="stage-scene scene-trio" id="scene-trio">
            <img src="trio.png" class="trio-img" alt="Trío Restauración" />
          </div>

          <div class="name-label cyan" id="stage-label">
            <h3 id="label-title">Ps. Jose Chuzón</h3>
            <span id="label-role">PREDICADOR INVITADO</span>
          </div>
        </div>
        <div class="glow-bg glow-cyan" id="stage-glow"></div>
      </section>

      <section class="cards-container">
        <div class="glass-card">
          <i class="fas fa-music card-icon"></i>
          <div style="color: #888; font-size: 0.9rem">ADORACIÓN</div>
          <div class="card-info">Trío Restauración</div>
        </div>
        <div class="glass-card" style="border-color: rgba(0, 229, 255, 0.3)">
          <i class="far fa-calendar-check card-icon"></i>
          <div style="color: #888; font-size: 0.9rem">GRAN DÍA</div>
          <div class="card-highlight">26 DIC</div>
          <div class="card-info">7:00 PM</div>
        </div>
        <div class="glass-card">
          <i class="fas fa-map-pin card-icon"></i>
          <div style="color: #888; font-size: 0.9rem">LUGAR</div>
          <div class="card-info" style="font-size: 1.1rem">
            Mz H Lt 23, Ciudad del Chofer
          </div>
        </div>
      </section>

      <section class="arcade-section">
        <div class="arcade-header">
          <div class="arcade-title">
            <i class="fas fa-gamepad"></i> Zona Interactiva
          </div>
          <p style="color: #aaa; font-size: 0.9rem">Prepara tu espíritu</p>
        </div>
        <div class="tabs-nav">
          <button class="tab-btn active" onclick="openGame('trivia')">
            Trivia
          </button>
          <button class="tab-btn" onclick="openGame('scramble')">
            Ordena el Verso
          </button>
          <button class="tab-btn" onclick="openGame('promises')">
            Tu Promesa 2026
          </button>
        </div>
        <div id="game-trivia" class="game-container active">
          <div
            style="color: var(--neon-cyan); margin-bottom: 10px"
            id="q-progress"
          >
            Pregunta 1 de 3
          </div>
          <div class="question-box" id="q-text">Cargando...</div>
          <div class="options-grid" id="q-options"></div>
        </div>
        <div id="game-scramble" class="game-container">
          <p style="text-align: center; color: #ccc">
            Ordena las palabras del Salmo 133:1
          </p>
          <div class="scramble-area">
            <div class="drop-zone" id="drop-zone"></div>
            <div class="word-bank" id="word-bank"></div>
            <div
              id="scramble-msg"
              style="margin-top: 15px; font-weight: bold; height: 20px"
            ></div>
          </div>
        </div>
        <div id="game-promises" class="game-container">
          <p style="text-align: center; color: #ccc; margin-bottom: 20px">
            Elige una tarjeta por fe
          </p>
          <div class="promises-grid">
            <div class="flip-card" onclick="flipCard(this)">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <i class="fas fa-dove"></i><span>Abrir</span>
                </div>
                <div class="flip-card-back">
                  <p class="promise-text">
                    "He aquí que yo hago cosa nueva..."
                  </p>
                  <span class="promise-ref">Isaías 43:19</span>
                </div>
              </div>
            </div>
            <div class="flip-card" onclick="flipCard(this)">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <i class="fas fa-heart"></i><span>Abrir</span>
                </div>
                <div class="flip-card-back">
                  <p class="promise-text">
                    "Te haré entender y te enseñaré..."
                  </p>
                  <span class="promise-ref">Salmos 32:8</span>
                </div>
              </div>
            </div>
            <div class="flip-card" onclick="flipCard(this)">
              <div class="flip-card-inner">
                <div class="flip-card-front">
                  <i class="fas fa-star"></i><span>Abrir</span>
                </div>
                <div class="flip-card-back">
                  <p class="promise-text">
                    "Clama a mí, y yo te responderé..."
                  </p>
                  <span class="promise-ref">Jeremías 33:3</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="cta-section">
        <a href="https://wa.me/51920620788" class="btn-neon"
          >Confirmar Asistencia</a
        >
        <footer>
          <br />
          <p>&copy; 2025 Iglesia Cristiana Centro de Restauración</p>
        </footer>
      </section>
    </div>

    <script>
      function toggleMenu() {
        document.getElementById("navLinks").classList.toggle("active");
      }

      function switchStage(mode) {
        document.getElementById("btn-word").className = "stage-btn";
        document.getElementById("btn-worship").className = "stage-btn";

        const labelTitle = document.getElementById("label-title");
        const labelRole = document.getElementById("label-role");
        const labelBox = document.getElementById("stage-label");
        const glow = document.getElementById("stage-glow");
        const scenePastor = document.getElementById("scene-pastor");
        const sceneTrio = document.getElementById("scene-trio");

        if (mode === "word") {
          document.getElementById("btn-word").classList.add("active-word");
          scenePastor.classList.add("active");
          sceneTrio.classList.remove("active");
          glow.className = "glow-bg glow-cyan";
          labelBox.className = "name-label cyan";
          labelTitle.innerText = "Ps. Jose Chuzón";
          labelRole.innerText = "PREDICADOR INVITADO";
        } else {
          document
            .getElementById("btn-worship")
            .classList.add("active-worship");
          scenePastor.classList.remove("active");
          sceneTrio.classList.add("active");
          glow.className = "glow-bg glow-gold";
          labelBox.className = "name-label gold";
          labelTitle.innerText = "Trío Restauración";
          labelRole.innerText = "MINISTERIO DE ALABANZA";
        }
      }

      function openGame(gameId) {
        document
          .querySelectorAll(".game-container")
          .forEach((el) => el.classList.remove("active"));
        document
          .querySelectorAll(".tab-btn")
          .forEach((el) => el.classList.remove("active"));
        document.getElementById("game-" + gameId).classList.add("active");
        event.target.classList.add("active");
      }

      const questions = [
        {
          q: "¿Qué Salmo habla de la armonía fraternal?",
          a: ["Salmo 23", "Salmo 133", "Salmo 91"],
          c: 1,
        },
        {
          q: "¿Quién es el predicador invitado?",
          a: ["Ps. Jose Chuzón", "Ps. Brigadiel Cerna", "Ps. Juan Pérez"],
          c: 0,
        },
        {
          q: "¿Dónde será el evento?",
          a: ["Plaza de Armas", "Ciudad del Chofer", "Pimentel"],
          c: 1,
        },
      ];
      let qIdx = 0;
      function loadTrivia() {
        const q = questions[qIdx];
        document.getElementById("q-text").innerText = q.q;
        document.getElementById("q-progress").innerText = `Pregunta ${
          qIdx + 1
        }/${questions.length}`;
        const grid = document.getElementById("q-options");
        grid.innerHTML = "";
        q.a.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.className = "option-btn";
          btn.innerText = opt;
          btn.onclick = () => checkTrivia(btn, i === q.c);
          grid.appendChild(btn);
        });
      }
      function checkTrivia(btn, isCorrect) {
        document
          .querySelectorAll(".option-btn")
          .forEach((b) => (b.disabled = true));
        if (isCorrect) {
          btn.classList.add("btn-correct");
          setTimeout(() => {
            qIdx = (qIdx + 1) % questions.length;
            loadTrivia();
          }, 1000);
        } else {
          btn.classList.add("btn-wrong");
          setTimeout(() => {
            loadTrivia();
          }, 1000);
        }
      }
      loadTrivia();

      const targetVerse = "MIRAD CUAN BUENO ES HABITAR LOS HERMANOS JUNTOS";
      const words = targetVerse.split(" ");
      function initScramble() {
        const bank = document.getElementById("word-bank");
        const zone = document.getElementById("drop-zone");
        bank.innerHTML = "";
        zone.innerHTML = "";
        document.getElementById("scramble-msg").innerText = "";
        let shuffled = [...words].sort(() => Math.random() - 0.5);
        shuffled.forEach((word) => {
          const span = document.createElement("div");
          span.className = "word-slot";
          span.innerText = word;
          span.onclick = function () {
            (this.parentNode === bank ? zone : bank).appendChild(this);
            checkScramble();
          };
          bank.appendChild(span);
        });
      }
      function checkScramble() {
        const zone = document.getElementById("drop-zone");
        const userSentence = Array.from(zone.children)
          .map((c) => c.innerText)
          .join(" ");
        const msg = document.getElementById("scramble-msg");
        if (userSentence === targetVerse) {
          msg.style.color = "#00ff9d";
          msg.innerText = "¡CORRECTO! Salmos 133:1";
        } else {
          msg.innerText = "";
        }
      }
      initScramble();

      function flipCard(card) {
        if (card.classList.contains("flipped")) return;
        card.classList.add("flipped");
      }
    </script>
  </body>
</html>
